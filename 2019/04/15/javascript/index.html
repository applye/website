<!DOCTYPE HTML>
<html lang="zh-CN">

<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="小橙">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.3.0">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="//website.cwzcfj.cn">
    <!--SEO-->

<meta name="keywords" content="前端,javaScript,ES6,js面向对象,闭包">


<meta name="description" content="js基础知识点
js面向对象

面向对象编程（OOP）的特点:
抽象： 抓住核心问题
封装： 只能通过对象来访问方法
继承： 从已有的对象下继承新的对象
多态： 多对象的不同的形态
面向对象是一...">


<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->

<title>
    
    javaScript基础知识 |
    
    小橙
</title>

<link rel="alternate" href="/atom.xml" title="小橙" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    

<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">
    
<div class="hide">
    <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>




    

</head></html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->
<body>
    
<header class="main-header" style="background-image:url(
    https://raw.githubusercontent.com/879733672/images/cdn/img/202209041818975.jpg)">
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="xiao cheng">
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
            <!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
            <h2>
                 
            </h2>
            
        </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                        <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="//website.cwzcfj.cn">
                        小橙</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                        <li role="presentation" class="text-center">
                            <a href="/"><i class="fa "></i>
                                首页</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/前端/"><i class="fa "></i>
                                前端</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/工具/"><i class="fa "></i>
                                工具</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/archives/"><i class="fa "></i>
                                时间轴</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="javaScript基础知识">
            
                    javaScript基础知识
                        
        </h1>
        <div class="post-meta">
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a class="category-link" href="/categories/前端/">前端</a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            <a class="tag-link" href="/tags/ES6/">ES6</a> <a class="tag-link" href="/tags/javaScript/">javaScript</a> <a class="tag-link" href="/tags/js面向对象/">js面向对象</a> <a class="tag-link" href="/tags/前端/">前端</a> <a class="tag-link" href="/tags/闭包/">闭包</a>
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">
            2019/04/15</span>
    </span>
    
    <span class="fa-wrap">
        <i class="fa fa-eye"></i>
        <span id="busuanzi_value_page_pv"></span>
    </span>
    
    
</div>
            
                
    </div>
    
        <div class="post-body post-content">
            <h2 id="js基础知识点"><a href="#js基础知识点" class="headerlink" title="js基础知识点"></a>js基础知识点</h2><blockquote>
<p>js面向对象</p>
</blockquote>
<h3 id="面向对象编程（OOP）的特点"><a href="#面向对象编程（OOP）的特点" class="headerlink" title="面向对象编程（OOP）的特点:"></a>面向对象编程（OOP）的特点:</h3><ul>
<li>抽象： 抓住核心问题</li>
<li>封装： 只能通过对象来访问方法</li>
<li>继承： 从已有的对象下继承新的对象</li>
<li><p>多态： 多对象的不同的形态</p>
<p>面向对象是一种编程思想，把业务中看作对象，对象拥有属性和方法，对一下业务进行封装，方便维护。javaScript面向对象是通过prototype的方式来实现编程的。</p>
</li>
</ul>
<blockquote>
<p>js面向对象创建的几种方式或者实现?</p>
</blockquote>
<ol>
<li><p>工厂模式创建对象： 面向对象中的封装函数(内置对象)<br>就是一个函数，然后放入参数，返回对象，流水线工作</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">   o.name = name;</span><br><span class="line">   o.age = age;</span><br><span class="line">   o.job = job;</span><br><span class="line">   o.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = createPerson(<span class="string">'Jack'</span>, <span class="number">19</span>, <span class="string">'SoftWare Engineer'</span>);</span><br></pre></td></tr></table></figure>
<p>创建对象对象交给工厂方法来实现，可以传递参数，但缺点是无法识别对象类型，因为创建对象是使用Object的原生构造函数来完成的。</p>
</li>
<li><p>构造函数模式</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> 	<span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name, age, job)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.age = age;</span><br><span class="line">	<span class="keyword">this</span>.job = job;</span><br><span class="line">	<span class="keyword">this</span>.getName = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"Jack"</span>, <span class="number">19</span>, <span class="string">'SoftWare Engineer'</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Liye"</span>, <span class="number">23</span>, <span class="string">'Mechanical Engineer'</span>);</span><br></pre></td></tr></table></figure>
<p>自定义的构造函数，（与普通函数一样，只是用它来创建对象），对象类型的属性和方法。它区别与工厂模式：</p>
<ul>
<li>没有显示地创建对象</li>
<li>直接将属性和方法赋值给this对象</li>
<li>没有return语句</li>
</ul>
<p>上述中person1,person2都是person的实例，因此可以用instanceof判断</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alert<span class="comment">(person1 instanceof Person)</span>;<span class="comment">//true;</span></span><br><span class="line">alert<span class="comment">(person2 instanceof Person)</span>;<span class="comment">//true;</span></span><br><span class="line">alert<span class="comment">(person1 instanceof Object)</span>;<span class="comment">//true;</span></span><br><span class="line">alert<span class="comment">(person1.constructor === person2.constructor)</span>;<span class="comment">//ture;</span></span><br></pre></td></tr></table></figure>
<p>虽然构造函数方式比较不错，但是也存在缺点，那就是在创建对象时，特别针对对象属性指向的函数时，会重复创建函数实例，以上述代码为基础，可以改成：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function Person(name,age,job)&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.job = job;</span><br><span class="line">    <span class="keyword">this</span>.getName = new Function () &#123;<span class="comment">//改写后效果与原代码相同，不过是为了方便理解</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码，创建多个实例时，会重复调用new Function();创建多个函数实例，这些函数实例还不是一个作用域中，当然这一般不会有错，但这会造成内存浪费。当然，可以在函数中定义一个getName = getName的引用，而getName函数在Person外定义，这样可以解决重复创建函数实例问题，但在效果上并没有起到封装的效果，如下所示：</p>
</li>
</ol>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name,age,job)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.job = job;</span><br><span class="line">    <span class="keyword">this</span>.getName = getName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span> </span>&#123;<span class="comment">//到处是代码，看着乱！！</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>原型模式</p>
<p> js每一个函数都有一个prototype（原型）属性，这个属性是一个指针，指向一个对象，它是通过new操作符使用函数创建的实例的原型对象，原型对象最大的特点是，所有对象实例共享它所包含的属性和方法，也就是说，所有在原型对象中创建的属性和方法都直接被所有对象实例共享。</p>
</li>
</ol>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = <span class="string">'Jack'</span>;<span class="comment">//使用原型来添加属性</span></span><br><span class="line">Person.prototype.age = <span class="number">29</span>;</span><br><span class="line">Person.prototype.getName = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line">alert(person1.getName());<span class="comment">//Jack</span></span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line">alert(person1.getName === person2.getName);<span class="comment">//true;共享一个原型对象的方法</span></span><br></pre></td></tr></table></figure>
<p>原型与in操作符</p>
<p>一句话：无论原型中属性，还是对象实例的属性，都可以使用in操作符访问到；要想判断是否是实例本身的属性可以使用object.hasOwnProperty(‘attr’)来判断；<br>原型模式的缺点，它省略了为构造函数传递初始化参数，这在一定程序带来不便；另外，最主要是当对象的属性是引用类型时，它的值是不变的，总是引用同一个外部对象，所有实例对该对象的操作都会其它实例：<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span></span>() &#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = <span class="string">'Jack'</span>;</span><br><span class="line">Person.prototype.lessons = [<span class="string">'Math'</span>,<span class="string">'Physics'</span>];</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> <span class="type">Person</span>();</span><br><span class="line">person1.lessons.push(<span class="string">'Biology'</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> <span class="type">Person</span>();</span><br><span class="line">alert(person2.lessons);<span class="comment">//Math,Physics,Biology，person1修改影响了person2</span></span><br></pre></td></tr></table></figure></p>
<ol start="4">
<li><p>组合构造函数及原型模式</p>
<p>目前最为常用的定义类型方式，是组合构造函数模式与原型模式。构造函数模式用于定义实例的属性，而原型模式用于定义方法和共享的属性。结果，每个实例都会有自己的一份实例属性的副本，但同时又共享着对方方法的引用，最大限度的节约内存。此外，组合模式还支持向构造函数传递参数，可谓是集两家之所长。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name, age, job)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.name = name;</span><br><span class="line">   <span class="keyword">this</span>.age = age;</span><br><span class="line">   <span class="keyword">this</span>.job = job;</span><br><span class="line">   <span class="keyword">this</span>.lessons = [<span class="string">'Math'</span>, <span class="string">'Physics'</span>];</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    constructor: Person,<span class="comment">//原型字面量方式会将对象的constructor变为Object，此外强制指回Person</span></span><br><span class="line">    getName: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">'Jack'</span>, <span class="number">19</span>, <span class="string">'SoftWare Engneer'</span>);</span><br><span class="line">person1.lessons.push(<span class="string">'Biology'</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">'Lily'</span>, <span class="number">39</span>, <span class="string">'Mechanical Engneer'</span>);</span><br><span class="line">alert(person1.lessons);<span class="comment">//Math,Physics,Biology</span></span><br><span class="line">alert(person2.lessons);<span class="comment">//Math,Physics</span></span><br><span class="line">alert(person1.getName === person2.getName);<span class="comment">//true,//共享原型中定义方法</span></span><br></pre></td></tr></table></figure>
<p>  在所接触的JS库中，jQuery类型的封装就是使用组合模式来实例的</p>
</li>
<li><p>动态原型模式</p>
<p>组合模式中实例属性与共享方法（由原型定义）是分离的，这与纯面向对象语言不太一致；动态原型模式将所有构造信息都封装在构造函数中，又保持了组合的优点。其原理就是通过判断构造函数的原型中是否已经定义了共享的方法或属性，如果没有则定义，否则不再执行定义过程。该方式只原型上方法或属性只定义一次，且将所有构造过程都封装在构造函数中，对原型所做的修改能立即体现所有实例中：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name, age, job)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.name = name;</span><br><span class="line">   <span class="keyword">this</span>.age = age;</span><br><span class="line">   <span class="keyword">this</span>.job = job;</span><br><span class="line">   <span class="keyword">this</span>.lessons = [<span class="string">'Math'</span>, <span class="string">'Physics'</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span>.getName != <span class="string">'function'</span>) &#123;<span class="comment">//通过判断实例封装</span></span><br><span class="line">　　Person.prototype = &#123;</span><br><span class="line">　　　　constructor: Person,<span class="comment">//原型字面量方式会将对象的constructor变为Object，此外强制指回Person</span></span><br><span class="line">　　　　getName: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">　　　　　　<span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">'Jack'</span>, <span class="number">19</span>, <span class="string">'SoftWare Engneer'</span>);</span><br><span class="line">person1.lessons.push(<span class="string">'Biology'</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">'Lily'</span>, <span class="number">39</span>, <span class="string">'Mechanical Engneer'</span>);</span><br><span class="line">alert(person1.lessons);<span class="comment">//Math,Physics,Biology</span></span><br><span class="line">alert(person2.lessons);<span class="comment">//Math,Physics</span></span><br><span class="line">alert(person1.getName === person2.getName);<span class="comment">//true,//共享原型中定义方法</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>常用</p>
</blockquote>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Object</span>.prototype.toString.call();用来判断对象的类型。</span><br><span class="line">toLowerCase(); 转小写</span><br><span class="line">toUpperCase(); 转大写</span><br><span class="line"><span class="built_in">str</span>.charAt(index)；   <span class="comment">//根据index索引获取字符串</span></span><br><span class="line">	</span><br><span class="line">Math.<span class="built_in">random</span>(); <span class="comment">//获取随机数（包含0到1不包含1）</span></span><br><span class="line"><span class="comment">//生成整数,如生成20以下整数（0-19）	利用floor向下取整</span></span><br><span class="line">Math.<span class="built_in">floor</span>(Math.<span class="built_in">random</span>()*<span class="number">20</span>);</span><br><span class="line"><span class="comment">//获取某个值之间的随机数</span></span><br><span class="line">Math.<span class="built_in">floor</span>(Math.<span class="built_in">random</span>() * (<span class="built_in">max</span> - <span class="built_in">min</span> + <span class="number">1</span>)) + <span class="built_in">min</span>；</span><br><span class="line">Math.<span class="built_in">max</span>(x,y);  <span class="comment">//返回最大值</span></span><br><span class="line">Math.<span class="built_in">min</span>(x,y);  <span class="comment">//返回最小值</span></span><br><span class="line">Math.<span class="built_in">round</span>(x);  <span class="comment">//四舍五入</span></span><br><span class="line">Math.<span class="built_in">floor</span>();  <span class="comment">//向下舍入</span></span><br><span class="line">Math.<span class="built_in">abs</span>();    <span class="comment">//返回绝对值</span></span><br><span class="line"></span><br><span class="line">transform</span><br><span class="line"><span class="built_in">rotate</span>(deg)</span><br><span class="line">skew(x,y)</span><br><span class="line"><span class="built_in">scale</span>(x,y)</span><br><span class="line"><span class="built_in">translate</span>(x,y)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>js继承</p>
</blockquote>
<p>  继承方式：</p>
<p>　　1、拷贝继承：通用型  有new无new都可以用</p>
<p>　　2、类式继承：new构造函数—利用构造函数（类）继承的方式</p>
<p>　　3、原型继承：无new的对象—借助原型来实现对象继承对象</p>
<p>　　属性继承：调用父类的构造函数call</p>
<p>　　方法继承：用for in的形式 拷贝继承（jq也用拷贝继承）<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">       name: <span class="string">'小米'</span></span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="comment">//拷贝继承</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">extend</span><span class="params">(obj1, obj2)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> attr <span class="keyword">in</span> obj2) &#123;</span><br><span class="line">           obj1[attr] = obj2[attr];</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//原型继承</span></span><br><span class="line">       <span class="keyword">var</span> b=cloneObj(a);</span><br><span class="line">       b.name=<span class="string">'小乔'</span>;</span><br><span class="line">       alert(a.name);</span><br><span class="line">       alert(b.name);</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">cloneObj</span><span class="params">(obj)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">var</span> F=<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line">           F.prototype=obj;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">       &#125;</span><br><span class="line">   <span class="comment">//类式继承</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">A</span><span class="params">()</span> </span>&#123;<span class="comment">//父类</span></span><br><span class="line">       <span class="keyword">this</span>.name=<span class="string">'小米'</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   A.prototype.showName=<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">       alert(<span class="keyword">this</span>.name);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">B</span><span class="params">()</span> </span>&#123;<span class="comment">//子类</span></span><br><span class="line">       A.call(<span class="keyword">this</span>);<span class="comment">//属性和方法分开继承</span></span><br><span class="line">   &#125;</span><br><span class="line">	　　　　<span class="comment">//B.prototype=new A();//一句话实现继承，但会有很多问题，比如指向问题，属性会互相影响</span></span><br><span class="line">	　　　　<span class="comment">//类式继承改进：至少由以下四句实现方法的继承，属性需要分开继承</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> F=<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line">   F.prototype=A.prototype;</span><br><span class="line">   B.prototype=<span class="keyword">new</span> F();</span><br><span class="line">   B.prototype.constructor=A;<span class="comment">//修正指向问题</span></span><br><span class="line">   <span class="keyword">var</span> b1=<span class="keyword">new</span> B();</span><br><span class="line">   b1.name=<span class="string">'笑笑'</span>;</span><br><span class="line">   b1.showName();</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>js闭包</p>
</blockquote>
<p>闭包就是一个函数引用另外一个函数的变量，因为变量被引用着所以不会被回收，因此可以用来封装一个私有变量。这是优点也是缺点，不必要的闭包只会徒增内存消耗！<br>执行环境、作用域链、垃圾回收机制、函数嵌套</p>
<blockquote>
<p>事件委托的优点和缺点</p>
</blockquote>
<p>优点：</p>
<ol>
<li>减少事件注册，节省内存。比如：table代理所有的td的click.在ul上代理所有li的click事件。</li>
<li>简化了dom节点更新时，相应事件的更新。</li>
</ol>
<p>缺点：</p>
<ol>
<li>事件委托基于冒泡，对应不冒泡的不支持。</li>
<li>层级过多，冒泡过程中，可能被某层阻止掉。</li>
<li>把所有的事件都用代理可能会出现事件误判。 </li>
</ol>
<blockquote>
<p>ES6语法</p>
</blockquote>
<p> 一. 块级作用域绑定</p>
<p> (1). let声明</p>
<p> 使用let声明变量的语法和使用var声明的语法是一样的。但是let声明的变量的作用域会限制在当前的代码块中。这是let与var的最大区别。用 let 声明的变量具有<strong>块级作用域</strong>，只能在声明的块中访问，在块外面无法访问</p>
<p> (2). const声明</p>
<p>ES6 使用const来声明的变量称之为常量。这意味着它们不能再次被赋值,所有的 const 声明的变量都必须在声明处初始化</p>
<p> 二. 函数新增特性</p>
<p> (1). 带默认参数的函数<br> <figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">makeRequest</span><span class="params">(url, timeout, callback)</span> </span>&#123;</span><br><span class="line">    timeout = timeout || <span class="number">2000</span>;</span><br><span class="line">    callback = callback || <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> 一般在函数内部需要做一些默认值的处理，有个bug，timeout是0的时候也会当做假值来处理，从而给赋值默认值2000.</p>
<p>ES6从语言层面面上增加了 默认值的 支持<br>这个函数如果只传入第一个参数，后面两个不传入，则会使用默认值。如果后面两个也传入了参数，则不会使用默认值。<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span></span> makeRequest(url, timeout = <span class="number">2000</span>, callback = <span class="function"><span class="keyword">function</span><span class="params">()</span></span> &#123;&#125;) &#123;</span><br><span class="line">    // 其余代码		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> (2). 默认参数对 arguments 对象的影响 </p>
<p>ES6参数默认值的时候，不管是否是在严格模式下，都和ES5的严格模式相同。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">	</span></span><br><span class="line"><span class="actionscript">   <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(a, b = 30)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>] === a); <span class="comment">//true</span></span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>] === b); <span class="comment">//true</span></span></span><br><span class="line"><span class="undefined">       a = 10;</span></span><br><span class="line"><span class="undefined">       b = 20;</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]  === a); <span class="comment">//false。  由于b使用了默认值。虽然a没有使用默认值，但是仍然表现的和严格模式一样。</span></span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>] === b); <span class="comment">//false。  b使用了默认值，所以表现的和严格模式一样。</span></span></span><br><span class="line"><span class="undefined">   &#125;</span></span><br><span class="line"><span class="undefined">   foo(1, 2);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p> (3).默认参数表达式</p>
<p>参数的默认值，也可以是一个表达式或者函数调用等<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">	<span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="number">5</span>;</span></span><br><span class="line"><span class="undefined">	&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">first, second = getValue(</span>)) </span>&#123; <span class="comment">//表示使用getValue这个函数的返回值作为second的默认值。</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> first + second;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">1</span>));     <span class="comment">// 2.  调用add函数的时候，传入了第二个参数，则以传入的参数为准。</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(add(<span class="number">1</span>));        <span class="comment">// 6。 调用add函数的时候，没有传入第二个参数，则会调用getValue函数。</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>getValue()只会在调用add且不传入第二个参数的时候才会去调用。不是在解析阶段调用的。</p>
<p>  （4）. 未命名参数问题</p>
<p>Javascript并不限制传入的参数的数量, 在ES5之前，我们一般可以通过arguments对象来获取到未命名参数的值。但是罗显繁琐<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(a)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(a);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>])  <span class="comment">//取得传入的多余的参数。</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    foo(2, 3);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>ES6，提供了一种更加优雅处理未命名参数的问题：剩余参数(Rest Parameters)</p>
<p>语法：function a(a, … b){ }</p>
<p>剩余参数使用三个点( … )和变量名来表示。</p>
<p>  (5).  函数中的扩展运算符</p>
<p>Math中的max函数可以返回任意多个参数中的最大值。但是如果这些参数在一个数组中，则没有办法直接传入。以前通用的做法是使用applay方法.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> values = [<span class="number">25</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">100</span>]  </span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, values));  <span class="comment">// 100</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这种方法虽然可行，但是总是不是那么直观.ES6提供的扩展运算符可以很容易的解决这个问题。在数组前加前缀 … (三个点)<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> values = [<span class="number">25</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">100</span>]</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(...values));  <span class="comment">//使用扩展运算符。相当于拆解了数组了。</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(...values, <span class="number">200</span>));  <span class="comment">//也可以使用扩展运算符和参数的混用，则这个时候就有 5 个数参与比较了。</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p> 三. 全新的函数：箭头函数（=&gt;）</p>
<p>  箭头函数可以赋值给变量，也可以像匿名函数一样直接作为参数传递<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">   <span class="keyword">var</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">       <span class="keyword">return</span> num1 + num2;</span></span><br><span class="line"><span class="undefined">   &#125;</span></span><br><span class="line"><span class="javascript">   <span class="built_in">console</span>.log(sum(<span class="number">3</span>, <span class="number">4</span>));</span></span><br><span class="line"><span class="actionscript">   <span class="comment">//前面的箭头函数等同于下面的传统函数</span></span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> <span class="params">(num1, num2)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">       <span class="keyword">return</span> num1 + num2;</span></span><br><span class="line"><span class="undefined">   &#125;</span></span><br><span class="line"><span class="javascript">   <span class="built_in">console</span>.log(add(<span class="number">2</span>, <span class="number">4</span>))</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如果函数体内只有一行代码，则包裹函数体的 大括号 ({ })完全可以省略。如果有return，return关键字也可以省略。</p>
<p>如果函数体内有多条语句，则 {} 不能省略。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 + num2;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(sum(<span class="number">5</span>, <span class="number">4</span>));</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//前面的箭头函数等同于下面的传统函数</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> <span class="params">(num1, num2)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> num1 + num2;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(add(<span class="number">2</span>, <span class="number">4</span>));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//如果这一行代码是没有返回值的，则方法的返回自也是undefined</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> foo = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"aaa"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(foo(<span class="number">3</span>,<span class="number">4</span>));  <span class="comment">//这个地方的返回值就是undefined</span></span></span><br><span class="line"><span class="undefined"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如果箭头函数只有一个参数，则包裹参数的小括号可以省略。其余情况下都不可以省略。当然如果不传入参数也不可以省略<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> foo = <span class="function"><span class="params">a</span>=&gt;</span> a+<span class="number">3</span>; <span class="comment">//因为只有一个参数，所以()可以省略</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(foo(<span class="number">4</span>)); <span class="comment">// 7</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如果想直接返回一个js对象，而且还不想添加传统的大括号和return，则必须给整个对象添加一个小括号 ()<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">    var foo = ()=&gt;(</span><span class="xquery"><span class="built_in">&#123;name</span>:<span class="string">"lisi"</span>, age:<span class="number">30</span>&#125;</span><span class="xml">);</span></span><br><span class="line"><span class="xml">    console.log(foo());</span></span><br><span class="line"><span class="xml">    //等同于下面的；</span></span><br><span class="line"><span class="xml">    var foo1 = ()=&gt;</span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="xquery">           <span class="built_in"> name</span>:<span class="string">"lisi"</span>,</span></span><br><span class="line"><span class="xquery">            age : <span class="number">30</span></span></span><br><span class="line"><span class="xquery">        &#125;</span><span class="xml">;</span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p> 使用箭头函数实现函数自执行<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">    var person = (name =&gt; </span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="xquery">               <span class="built_in"> name</span>:<span class="built_in"> name</span>,</span></span><br><span class="line"><span class="xquery">                age: <span class="number">30</span></span></span><br><span class="line"><span class="xquery">            &#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        &#125;</span></span><br><span class="line"><span class="xml">    )("zs");</span></span><br><span class="line"><span class="xml">    console.log(person);</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>箭头函数中无this绑定</p>
<p>四. 对象功能的扩展</p>
<p>(1) 简写的属性初始化,ES6中简化成如下的形式:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">createPerson</span><span class="params">(name, age)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//返回一个对象：属性名和参数名相同。</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            name,  <span class="comment">//当对象属性名和本地变量名相同时，可以省略冒号和值</span></span></span><br><span class="line"><span class="undefined">            age</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(createPerson(<span class="string">"lisi"</span>, <span class="number">30</span>)); <span class="comment">// &#123;name:"lisi", age:30&#125;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>(2) 简写的方法声明<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> person = &#123;</span></span><br><span class="line"><span class="actionscript">        name:<span class="string">'李四'</span>,</span></span><br><span class="line"><span class="undefined">        sayHell() &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"我的名字是："</span> + <span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    person.sayHell()</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>省略了冒号和function看起来更简洁</p>
<p>(3) 在字面量中动态计算属性名</p>
<p>在ES5之前，如果属性名是个变量或者需要动态计算，则只能通过 对象.[变量名] 的方式去访问。而且这种动态计算属性名的方式 在字面量中 是无法使用的.<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">    var p = </span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">       <span class="built_in"> name</span> : <span class="string">'李四'</span>,</span></span><br><span class="line"><span class="xquery">        age : <span class="number">20</span></span></span><br><span class="line"><span class="xquery">    &#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    var attName = 'name';</span></span><br><span class="line"><span class="xml">    console.log(p[attName]) //这里 attName表示的是一个变量名。</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>在ES6中，把属性名用[ ]括起来，则括号中就可以引用提前定义的变量。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> attName = <span class="string">'name'</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> p = &#123;</span></span><br><span class="line"><span class="actionscript">        [attName] : <span class="string">'李四'</span>,  <span class="comment">// 引用了变量attName。相当于添加了一个属性名为name的属性</span></span></span><br><span class="line"><span class="undefined">        age : 20</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(p[attName])  <span class="comment">// 李四</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p> (4)新增的方法</p>
<p>  <strong>Object.is()</strong>;</p>
<p>使用比较操作符（==）或严格比较操作符（===）.许多开发者为了避免在比较的过程中发生强制类型转换，更倾向于后者。但即使是严格等于操作符，它也不是万能的。例如，它认为 +0 和 -0 是相等的，虽然它们在 JavaScript 引擎中表示的方式不同。同样 NaN === NaN 会返回 false，所以必须使用 isNaN() 函数才能判断 NaN 。</p>
<p>ECMAScript 6 引入了 Object.is() 方法来补偿严格等于操作符怪异行为的过失。该函数接受两个参数并在它们相等的返回 true 。只有两者在类型和值都相同的情况下才会判为相等。如下所示：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(+<span class="number">0</span> == <span class="number">-0</span>);              <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(+<span class="number">0</span> === <span class="number">-0</span>);             <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>, <span class="number">-0</span>));     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> == <span class="literal">NaN</span>);            <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>);           <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>));   <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> == <span class="number">5</span>);                <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> == <span class="string">"5"</span>);              <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> === <span class="number">5</span>);               <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> === <span class="string">"5"</span>);             <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">5</span>, <span class="number">5</span>));       <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">5</span>, <span class="string">"5"</span>));     <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p>
<p>Object.is() 的表现和 === 是相同的。它们之间的区别是前者 认为 +0 和 -0 不相等而 NaN 和 NaN 则是相同的。不过弃用后者是完全没有必要的。何时选择 Object.is() 与 == 或 === 取决于代码的实际情况</p>
<p>  <strong>Object.assign()</strong></p>
<p>assing可以把一个对象的属性和访问完整的转copy到另外一个对象中。<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">    var p = </span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">       <span class="built_in"> name</span> : <span class="string">"lisi"</span>,</span></span><br><span class="line"><span class="xquery">        age : <span class="number">20</span>,</span></span><br><span class="line"><span class="xquery">        friends : [<span class="string">'张三'</span>, <span class="string">'李四'</span>]</span></span><br><span class="line"><span class="xquery">    &#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    var p1 = </span><span class="xquery">&#123;&#125;</span><span class="xml">;</span></span><br><span class="line"><span class="xml">    Object.assign(p1, p); //则p1中就有了与p相同的属性和方法.  p1是接受者，p是提供者</span></span><br><span class="line"><span class="xml">    console.log(p1);</span></span><br><span class="line"><span class="xml">    //这种copy是浅copy，也就是说如果属性值是对象的话，只是copy的对象的地址值(引用）</span></span><br><span class="line"><span class="xml">    console.log(p1.friends == p.friends);  //true   p1和p的friends同事指向了同一个数组。</span></span><br><span class="line"><span class="xml">    p.friends.push("王五");</span></span><br><span class="line"><span class="xml">    console.log(p1.friends); //['张三', '李四', '王五']</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>assign方法可以接受任意多的提供者。意味着后面提供者的同名属性和覆盖前面提供者的属性值<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">       var p = </span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">       <span class="built_in"> name</span> : <span class="string">"lisi"</span>,</span></span><br><span class="line"><span class="xquery">        age : <span class="number">20</span>,</span></span><br><span class="line"><span class="xquery">        friends : [<span class="string">'张三'</span>, <span class="string">'李四'</span>]</span></span><br><span class="line"><span class="xquery">    &#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    var p1 = </span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">       <span class="built_in"> name</span> : <span class="string">'zs'</span>,</span></span><br><span class="line"><span class="xquery">    &#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    var p2 = </span><span class="xquery">&#123;&#125;</span><span class="xml">;</span></span><br><span class="line"><span class="xml">    Object.assign(p2, p, p1); //p和p1都是提供者</span></span><br><span class="line"><span class="xml">    console.log(p2.name); // zs</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p> 五. 字符串功能的增强</p>
<p>  (1) 查找子字符串</p>
<p>   在以前在字符串中查找字符串的时候，都是使用indexOf方法.ES6新增了三个方法来查找字符串。<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">includes() 方法会在给定文本存在于字符串中的任意位置时返回 true，否则返回 false 。</span><br><span class="line"><span class="keyword">startsWith</span>() 方法会在给定文本出现在字符串开头时返回 true，否则返回 false 。</span><br><span class="line"><span class="keyword">endsWith</span>() 方法会在给定文本出现在字符串末尾时返回 true，否则返回 false 。</span><br><span class="line"></span><br><span class="line">var msg = <span class="string">"Hello world!"</span>;	</span><br><span class="line">console.<span class="keyword">log</span>(msg.<span class="keyword">startsWith</span>(<span class="string">"Hello"</span>));       <span class="comment">// true</span></span><br><span class="line">console.<span class="keyword">log</span>(msg.<span class="keyword">endsWith</span>(<span class="string">"!"</span>));             <span class="comment">// true</span></span><br><span class="line">console.<span class="keyword">log</span>(msg.includes(<span class="string">"o"</span>));             <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">console.<span class="keyword">log</span>(msg.<span class="keyword">startsWith</span>(<span class="string">"o"</span>));           <span class="comment">// false</span></span><br><span class="line">console.<span class="keyword">log</span>(msg.<span class="keyword">endsWith</span>(<span class="string">"world!"</span>));        <span class="comment">// true</span></span><br><span class="line">console.<span class="keyword">log</span>(msg.includes(<span class="string">"x"</span>));             <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">console.<span class="keyword">log</span>(msg.<span class="keyword">startsWith</span>(<span class="string">"o"</span>, <span class="number">4</span>));        <span class="comment">// true</span></span><br><span class="line">console.<span class="keyword">log</span>(msg.<span class="keyword">endsWith</span>(<span class="string">"o"</span>, <span class="number">8</span>));          <span class="comment">// true</span></span><br><span class="line">console.<span class="keyword">log</span>(msg.includes(<span class="string">"o"</span>, <span class="number">8</span>));          <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p>
<p> (2) repeat方法</p>
<p>   ECMAScript 6 还向字符串添加了 repeat() 方法，它接受一个数字参数作为字符串的重复次数。该方法返回一个重复包含初始字符串的新字符串，重复次数等于参数.<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.<span class="built-in">log</span>(<span class="string">"x"</span>.<span class="keyword">repeat</span>(<span class="number">3</span>));         <span class="comment">// "xxx"</span></span><br><span class="line">console.<span class="built-in">log</span>(<span class="string">"hello"</span>.<span class="keyword">repeat</span>(<span class="number">2</span>));     <span class="comment">// "hellohello"</span></span><br><span class="line">console.<span class="built-in">log</span>(<span class="string">"abc"</span>.<span class="keyword">repeat</span>(<span class="number">4</span>));       <span class="comment">// "abcabcabcabc"</span></span><br></pre></td></tr></table></figure></p>
<p> (3) 字符串模板字面量</p>
<p>  基本语法,使用一对反引号 “(tab正上方的按键)来表示模板字面量.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message = <span class="string">`Hello world!`</span>;   <span class="comment">//使用模板字面量创建了一个字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(message);               <span class="comment">// "Hello world!"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> message);        <span class="comment">// "string"</span></span><br><span class="line"><span class="built_in">console</span>.log(message.length);        <span class="comment">// 12</span></span><br></pre></td></tr></table></figure></p>
<p>注意：如果模板字符串中使用到了反引号，则应该转义。但是单双引号不需要转义</p>
<p> (4) 多行字符串</p>
<p>ES6中字符串的模板字面量轻松的解决了多行字符串的问题，而且没有任何新的语法.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">   	<span class="keyword">var</span> s = `abc</span></span><br><span class="line"><span class="undefined">    aaaaa</span></span><br><span class="line"><span class="undefined">    dsalfja</span></span><br><span class="line"><span class="undefined">    dfadfja`;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(s);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>但是要注意： 反引号中的所有空格和缩进都是有效字符。</p>
<p>  (5) 字符串置换</p>
<p>置换允许你将 JavaScript 表达式嵌入到模板字面量中并将其结果作为输出字符串中的一部分。</p>
<p>语法：${变量名、表达式、任意运算、方法调用等}</p>
<p>可以嵌入任何有效的JavaScript代码.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> name = <span class="string">"李四"</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> msg = <span class="string">`欢迎你<span class="subst">$&#123;name&#125;</span>同学`</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(msg)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p> (6) 模板标签</p>
<p> 什么是模板标签,模板字面量真正的强大之处来源于模板标签。一个模板标签可以被转换为模板字面量并作为最终值返回。标签在模板的头部，即左 ` 字符之前指定，如下所示：<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let message = myTag`Hello world`;</span><br></pre></td></tr></table></figure></p>
<p>在上面的代码中，myTag就是模板标签。</p>
<p>myTag其实是一个函数，这个函数会被调用来处理这个模板字符串。</p>
<p> (7) 定义模板标签</p>
<p>一个标签仅代表一个函数，他接受需要处理的模板字面量。标签分别接收模板字面量中的片段，且必须将它们组合以得出结果。函数的首个参数为包含普通 JavaScript 字符串的数组。余下的参数为每次置换的对应值。</p>
<p>标签函数一般使用剩余参数来定义，以便轻松地处理数据。如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> name = <span class="string">'张三'</span>,</span></span><br><span class="line"><span class="undefined">        age = 20,</span></span><br><span class="line"><span class="javascript">        message = show<span class="string">`我来给大家介绍<span class="subst">$&#123;name&#125;</span>的年龄是<span class="subst">$&#123;age&#125;</span>.`</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    /*</span></span><br><span class="line"><span class="undefined">        应该定义一个函数show：</span></span><br><span class="line"><span class="undefined">        参数1：一个字符串数组。在本例中包含三个元素。</span></span><br><span class="line"><span class="actionscript">             <span class="number">0</span>:<span class="string">"我来给大家介绍"</span></span></span><br><span class="line"><span class="actionscript">             <span class="number">1</span>:<span class="string">"的年龄是"</span></span></span><br><span class="line"><span class="actionscript">             <span class="number">2</span>:<span class="string">"."</span></span></span><br><span class="line"><span class="undefined">        参数2和参数3：表示需要置换的字符串的值。  </span></span><br><span class="line"><span class="undefined">     */</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">show</span><span class="params">(stringArr, value1, value2)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(stringArr); <span class="comment">//</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(value1);  <span class="comment">// 张三</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(value2);  <span class="comment">// 20</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="string">"abc"</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(message); <span class="comment">//abc</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>为了简化书写，一般把Value1和Value2写成剩余字符串的形式<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span><span class="params">(stringArr, <span class="rest_arg">...values</span>)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>五. 解构</p>
<p>  (1) 解构的实用性</p>
<p> ECMAScript 5 或更早的版本中，从对象或数组中获取特定的数据并赋值给本地变量需要书写很多并且相似的代码。例如：<br><figure class="highlight pony"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> options = &#123;</span><br><span class="line">       <span class="keyword">repeat</span>: <span class="literal">true</span>,</span><br><span class="line">       save: <span class="literal">false</span></span><br><span class="line">  &#125;;</span><br><span class="line">	</span><br><span class="line"><span class="comment">// 从对象中提取数据</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">repeat</span> = options.<span class="keyword">repeat</span>,</span><br><span class="line">   save = options.save;</span><br></pre></td></tr></table></figure></p>
<p> 对象解构的基本形式<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let <span class="keyword">node</span> <span class="title">= &#123;</span></span><br><span class="line"><span class="title">       type</span>: <span class="string">"Identifier"</span>,</span><br><span class="line">       name: <span class="string">"foo"</span></span><br><span class="line">   &#125;;</span><br><span class="line">//这里就相当于声明了两个变量： <span class="keyword">type</span> = <span class="keyword">node</span>.<span class="title">type</span>;  name:<span class="keyword">node</span>.<span class="title">name</span></span><br><span class="line">let &#123; <span class="keyword">type</span>, name &#125; = <span class="keyword">node</span><span class="title">;</span></span><br><span class="line"><span class="title"></span></span><br><span class="line"><span class="title">console</span>.log(<span class="keyword">type</span>);      // <span class="string">"Identifier"</span></span><br><span class="line">console.log(name);      // <span class="string">"foo"</span></span><br></pre></td></tr></table></figure></p>
<p>在上面的结构中必须要初始化。否则会出现语法错误<br><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 语法错误！</span></span><br><span class="line">var &#123; <span class="class"><span class="keyword">type</span>, <span class="title">name</span> &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 语法错误！</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="class"><span class="keyword">type</span>, <span class="title">name</span> &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 语法错误！</span></span><br><span class="line">const &#123; <span class="class"><span class="keyword">type</span>, <span class="title">name</span> &#125;;</span></span><br></pre></td></tr></table></figure></p>
<p> (2) 解构赋值表达式</p>
<p>  声明的变量想改变他们的值，也可以使用解构表达式.<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   let node = &#123;</span><br><span class="line">     <span class="built_in">type</span>: <span class="string">"Identifier"</span>,</span><br><span class="line">     <span class="built_in">name</span>: <span class="string">"foo"</span></span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="built_in">type</span> = <span class="string">"Literal"</span>,</span><br><span class="line">   <span class="built_in">name</span> = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//注意：此处必须要在圆括号内才能使用解构表达式</span></span><br><span class="line">  (&#123;<span class="built_in">type</span>, <span class="built_in">name</span>&#125; = node);</span><br><span class="line"></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">type</span>);      <span class="comment">// "Identifier"</span></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">name</span>);      <span class="comment">// "foo""</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p> (3) 对象解构时的默认值</p>
<p>  如果赋值号右边的对象中没有与左边变量同名的属性，则左边的变量会是 undefined<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let <span class="keyword">node</span> <span class="title">= &#123;</span></span><br><span class="line"><span class="title">       type</span>: <span class="string">"Identifier"</span>,</span><br><span class="line">       name: <span class="string">"foo"</span></span><br><span class="line">   &#125;;</span><br><span class="line">//因为<span class="keyword">node</span><span class="title">中没有叫value</span>的属性，所以valued的值将会是undefined</span><br><span class="line">let &#123; <span class="keyword">type</span>, name, value &#125; = <span class="keyword">node</span><span class="title">;</span></span><br><span class="line"><span class="title"></span></span><br><span class="line"><span class="title">console</span>.log(<span class="keyword">type</span>);      // <span class="string">"Identifier"</span></span><br><span class="line">console.log(name);      // <span class="string">"foo"</span></span><br><span class="line">console.log(value);     // undefined</span><br></pre></td></tr></table></figure></p>
<p>手动指定他的默认值<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">    let node = </span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">        type: <span class="string">"Identifier"</span>,</span></span><br><span class="line"><span class="xquery">       <span class="built_in"> name</span>: <span class="string">"foo"</span></span></span><br><span class="line"><span class="xquery">    &#125;</span><span class="xml">;</span></span><br><span class="line"><span class="xml">    //手动添加value的默认值为3</span></span><br><span class="line"><span class="xml">    let </span><span class="xquery">&#123; type,<span class="built_in"> name</span>, <span class="keyword">value</span> = <span class="number">3</span>&#125;</span><span class="xml"> = node;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    console.log(type);      // "Identifier"</span></span><br><span class="line"><span class="xml">    console.log(name);      // "foo"</span></span><br><span class="line"><span class="xml">    console.log(value);     // 3</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>赋值给不同的变量名<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;script type="text/javascript"&gt;</span></span><br><span class="line">    let <span class="keyword">node</span> <span class="title">= &#123;</span></span><br><span class="line"><span class="title">        type</span>: <span class="string">"Identifier"</span>,</span><br><span class="line">        name: <span class="string">"foo"</span></span><br><span class="line">    &#125;;</span><br><span class="line">    // localType才是要定义的新的变量。  <span class="keyword">type</span>是<span class="keyword">node</span><span class="title">的属性</span></span><br><span class="line"><span class="title">    let</span> &#123;<span class="keyword">type</span>: localType, name: localName&#125; = <span class="keyword">node</span><span class="title">;</span></span><br><span class="line"><span class="title"></span></span><br><span class="line"><span class="title">    console</span>.log(localType);     // <span class="string">"Identifier"</span></span><br><span class="line">    console.log(localName);     // <span class="string">"foo"</span></span><br><span class="line"><span class="tag">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>注意：冒号后面才是要定义的新的变量，这个可以我们的对象字面量不太一样！<br>这个地方也可以使用默认值<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let <span class="keyword">node</span> <span class="title">= &#123;</span></span><br><span class="line"><span class="title">        type</span>: <span class="string">"Identifier"</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">let &#123; <span class="keyword">type</span>: localType, name: localName = <span class="string">"bar"</span> &#125; = <span class="keyword">node</span><span class="title">;</span></span><br><span class="line"><span class="title"></span></span><br><span class="line"><span class="title">console</span>.log(localType);     // <span class="string">"Identifier"</span></span><br><span class="line">console.log(localName);     // <span class="string">"bar"</span></span><br></pre></td></tr></table></figure></p>
<p> （4） 数组解构</p>
<p>  数组解构基本语法</p>
<p>  数据解构的语法和对象解构看起来类似，只是将对象字面量替换成了数组字面量，而且解构操作的是数组内部的位置（索引）而不是对象中的命名属性，例如：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [ <span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span> ];</span><br><span class="line"><span class="keyword">let</span> [ firstColor, secondColor ] = colors;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(firstColor);        <span class="comment">// "red"</span></span><br><span class="line"><span class="built_in">console</span>.log(secondColor);       <span class="comment">// "green"</span></span><br></pre></td></tr></table></figure></p>
<p> 如果只想取数组中的某一项，则可以不用命名。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> colors = [ <span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span> ];</span><br><span class="line"><span class="comment">//只取数组中的第三项。</span></span><br><span class="line"><span class="keyword">let</span> [ , , thirdColor ] = colors;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(thirdColor);        <span class="comment">// "blue"</span></span><br></pre></td></tr></table></figure></p>
<p> 解构表达式</p>
<p>  你可以想要赋值的情况下使用数组的解构赋值表达式，但是和对象解构不同，没必要将它们包含在圆括号中，例如：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [ <span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span> ],</span><br><span class="line">   firstColor = <span class="string">"black"</span>,</span><br><span class="line">   secondColor = <span class="string">"purple"</span>;</span><br><span class="line"></span><br><span class="line">[ firstColor, secondColor ] = colors;  <span class="comment">//可以不用加括号。当然添加也不犯法</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(firstColor);        <span class="comment">// "red"</span></span><br><span class="line"><span class="built_in">console</span>.log(secondColor);       <span class="comment">// "green"</span></span><br></pre></td></tr></table></figure></p>
<p>数组解构表达式有一个很常用的地方，就是交换两个变量的值。在以前一般定义一个第三方变量进行交换，例如下面的代码：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> a = <span class="number">3</span>,</span></span><br><span class="line"><span class="undefined">        b = 4,</span></span><br><span class="line"><span class="undefined">        temp;</span></span><br><span class="line"><span class="undefined">    temp = a;</span></span><br><span class="line"><span class="undefined">    a = b;</span></span><br><span class="line"><span class="undefined">    b = temp;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(a);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(b)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>ES6中完全可以抛弃第三方变量这种方式，使用我们的数组解构表达式<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> a = <span class="number">3</span>,</span></span><br><span class="line"><span class="undefined">        b = 4;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//左侧和前面的案例是一样的，右侧是一个新创建的数组字面量。</span></span></span><br><span class="line"><span class="undefined">    [a, b] = [b, a];</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(a);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(b)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>六. Set数据结构</p>
<p>  Set类型是一个包含无重复元素的有序列表</p>
<pre><code>Set本身是一个构造函数。
</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//创建Set数据结构对象。</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//调用set对象的add方法，向set中添加元素</span></span></span><br><span class="line"><span class="actionscript">    s.add(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="actionscript">    s.add(<span class="string">"c"</span>);</span></span><br><span class="line"><span class="actionscript">    s.add(<span class="string">"b"</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//set的size属性可以获取set中元素的个数</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(s.size)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Set中不能添加重复元素</p>
<p>使用数组初始化Set<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//使用数组中的元素来初始化Set，当然碰到重复的也不会添加进去。</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>]);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(s.size)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>判断一个值是否在Set中</p>
<p>  使用Set的 has() 方法可以判断一个值是否在这个set中。<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">       let <span class="keyword">set</span> = new <span class="comment">Set()</span>;</span><br><span class="line">       <span class="keyword">set</span>.add(5);</span><br><span class="line">       <span class="keyword">set</span>.add(<span class="string">"5"</span>);</span><br><span class="line">       console.<span class="built-in">log</span>(<span class="keyword">set</span>.has(5));    <span class="comment">// true</span></span><br><span class="line">       console.<span class="built-in">log</span>(<span class="keyword">set</span>.has(6));    <span class="comment">// false</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>移除Set中的元素<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">delete(要删除的值) ：删除单个值</span><br><span class="line"></span><br><span class="line">clear()：清空所有的值</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    let <span class="keyword">set</span> = new <span class="comment">Set()</span>;</span><br><span class="line">    <span class="keyword">set</span>.add(5);</span><br><span class="line">    <span class="keyword">set</span>.add(<span class="string">"5"</span>);</span><br><span class="line"></span><br><span class="line">    console.<span class="built-in">log</span>(<span class="keyword">set</span>.has(5));    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span>.delete(5);</span><br><span class="line"></span><br><span class="line">    console.<span class="built-in">log</span>(<span class="keyword">set</span>.has(5));    <span class="comment">// false</span></span><br><span class="line">    console.<span class="built-in">log</span>(<span class="keyword">set</span>.size);      <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span>.clear();</span><br><span class="line"></span><br><span class="line">    console.<span class="built-in">log</span>(<span class="keyword">set</span>.has(<span class="string">"5"</span>));  <span class="comment">// false</span></span><br><span class="line">    console.<span class="built-in">log</span>(<span class="keyword">set</span>.size);      <span class="comment">// 0</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>遍历Set</p>
<p>  Set也有forEach可以遍历Set,for…of也可以遍历set</p>
<p><strong>将Set转换为数组</strong></p>
<p>  将数组转换为Set相当容易，你只需要在创建Set集合时把数组作为参数传递进去即可。</p>
<p>把Set转换为数组使用前面讲到的扩展运算符也很容易<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   let set = new Set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]),</span><br><span class="line">       arr = [...set];  <span class="comment">//使用扩展运算符。那么新的数组中已经没有了重复元素。注意，此对set并没有什么影响</span></span><br><span class="line"></span><br><span class="line">   console.log(arr);             <span class="comment">// [1,2,3,4,5]</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>这种情况在需要去数组中重复元素的时候非常好用。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    function eliminateDuplicates(items) &#123;</span><br><span class="line">        return [...new Set(items)];</span><br><span class="line">    &#125;</span><br><span class="line">    let numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        <span class="comment">//返回的是新的没有重复元素的数组。</span></span><br><span class="line">        noDuplicates = eliminateDuplicates(numbers);</span><br><span class="line">    console.log(noDuplicates);      <span class="comment">// [1,2,3,4,5]</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>Set提供了处理一系列值的方式，不过如果想给这些值添加一些附加数据则显得力不从心，所以又提供了一种新的数据结构：Map</p>
<p>七. Map数据结构</p>
<p>Map创建也是使用Map构造函数<br>向Map存储键值对使用set(key, value);方法<br>可以使用get(key),来获取指定key对应的value<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    var <span class="built_in">map</span> = <span class="keyword">new</span> Map();</span><br><span class="line">    <span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">"a"</span>, <span class="string">"lisi"</span>);</span><br><span class="line">    <span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">"b"</span>, <span class="string">"zhangsan"</span>);</span><br><span class="line">    <span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">"b"</span>, <span class="string">"zhangsan222"</span>);  <span class="comment">// 第二次添加，新的value会替换掉旧的</span></span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"a"</span>));</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"b"</span>));   <span class="comment">//zhangsan222</span></span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"c"</span>)); <span class="comment">//undefined.如果key不存在，则返回undefined</span></span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">map</span>.<span class="built_in">size</span>); <span class="comment">//2</span></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">has(<span class="built_in">key</span>) - 判断给定的 <span class="built_in">key</span> 是否在 <span class="built_in">map</span> 中存在</span><br><span class="line">delete(<span class="built_in">key</span>) - 移除 <span class="built_in">map</span> 中的 <span class="built_in">key</span> 及对应的值</span><br><span class="line"><span class="built_in">clear</span>() - 移除 <span class="built_in">map</span> 中所有的键值对</span><br></pre></td></tr></table></figure></p>
<p>初始化Map</p>
<p>创建Map的时候也可以像Set一样传入数组。但是传入的数组中必须有两个元素，这个两个元素分别是一个数组。</p>
<p>也就是传入的实际是一个二维数组！<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  //<span class="built_in">map</span>接受一个二维数组</span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">map</span> = <span class="built_in">new</span> Map([</span><br><span class="line">      //每一个数组中，第一个是是<span class="built_in">map</span>的可以，第二个是<span class="built_in">map</span>的value。如果只有第一个，则值是undefined</span><br><span class="line">        [<span class="string">"name"</span>, <span class="string">"lisi"</span>],  </span><br><span class="line">        [<span class="string">"age"</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="string">"sex"</span>, <span class="string">"nan"</span>]</span><br><span class="line">    ]);</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">map</span>.size);</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"name"</span>))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p> Map的forEach方法<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="built_in">var</span> <span class="built_in">map</span> = <span class="built_in">new</span> Map([</span><br><span class="line">        [<span class="string">"name"</span>, <span class="string">"李四"</span>],</span><br><span class="line">        [<span class="string">"age"</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="string">"sex"</span>, <span class="string">"nan"</span>]</span><br><span class="line">    ]);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        回调函数有函数：</span></span><br><span class="line"><span class="comment">        参数1：键值对的value</span></span><br><span class="line"><span class="comment">        参数2：键值对的key</span></span><br><span class="line"><span class="comment">        参数3：map对象本身</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">map</span>.forEach(function (value, <span class="built_in">key</span>, ownMap) &#123;</span><br><span class="line">        console.<span class="built_in">log</span>(`<span class="built_in">key</span>=$&#123;<span class="built_in">key</span>&#125; ,vlue=$&#123;value&#125;`);</span><br><span class="line">        console.<span class="built_in">log</span>(this);</span><br><span class="line">    &#125;)</span><br><span class="line"> &lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">var</span> colors = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">var</span> i = <span class="number">0</span>, len = colors.<span class="built_in">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">    console.<span class="built_in">log</span>(colors[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>八. 类</p>
<p>  ES5之前的模拟的类，JavaScript 没有类。和类这个概念及行为最接近的是创建一个构造函数并在构造函数的原型上添加方法，这种实现也被称为自定义的类型创建，例如：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PersonType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PersonType.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> PersonType(<span class="string">"Nicholas"</span>);</span><br><span class="line">person.sayName();   <span class="comment">// 输出 "Nicholas"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> PersonType);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>);      <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p> (1) ES6中基本的类声明<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class关键字必须是小写。   后面就是跟的类名</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersonClass</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 等效于 PersonType 构造函数。</span></span><br><span class="line">	 <span class="keyword">constructor</span>(name) &#123;  <span class="comment">//这个表示类的构造函数。constuctor也是关键字必须小写。</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;  <span class="comment">//创建属性。  也叫当前类型的自有属性。</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// 等效于 PersonType.prototype.sayName.   这里的sayName使用了我们前面的简写的方式。</span></span><br><span class="line">    sayName() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> PersonClass(<span class="string">"Nicholas"</span>);</span><br><span class="line">person.sayName();   <span class="comment">// 输出 "Nicholas"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> PersonClass);     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>);          <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> PersonClass);                    <span class="comment">// "function"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> PersonClass.prototype.sayName);  <span class="comment">// "function"</span></span><br></pre></td></tr></table></figure></p>
<p> 匿名类表达式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> PersonClass = <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 等效于 PersonType 构造函数</span></span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 等效于 PersonType.prototype.sayName</span></span><br><span class="line">    sayName() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> PersonClass(<span class="string">"Nicholas"</span>);</span><br><span class="line">person.sayName();   <span class="comment">// 输出 "Nicholas"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> PersonClass);     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>);          <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> PersonClass);                    <span class="comment">// "function"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> PersonClass.prototype.sayName);  <span class="comment">// "function"</span></span><br></pre></td></tr></table></figure></p>
<p>静态成员</p>
<p>   在ES5中，我们可以直接给构造函数添加属性或方法来模拟静态成员。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PersonType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">   	<span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 静态方法。  直接添加到构造方法上。  (其实是把构造函数当做一个普通的对象来用。)</span></span><br><span class="line">PersonType.create = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> PersonType(name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 实例方法</span></span><br><span class="line">PersonType.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> person = PersonType.create(<span class="string">"Nicholas"</span>);</span><br></pre></td></tr></table></figure></p>
<p>ECMAScript 6 的类通过在方法之前使用正式的 static 关键字简化了静态方法的创建。例如，下例中的类和上例相比是等效的：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersonClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 等效于 PersonType 构造函数</span></span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 等效于 PersonType.prototype.sayName</span></span><br><span class="line">    sayName() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 等效于 PersonType.create。</span></span><br><span class="line">    <span class="keyword">static</span> create(name) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> PersonClass(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = PersonClass.create(<span class="string">"Nicholas"</span>);</span><br></pre></td></tr></table></figure></p>
<p>注意：静态成员通过实例对象不能访问，只能通过类名访问！！！</p>
<p>(2)  ES6中的继承</p>
<p>ES6之前要完成继承，需要写很多的代码。看下面的继承的例子：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span><span class="params">(name)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">this</span>.name = name;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="actionscript">    Father.prototype.sayName = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span><span class="params">(name,age)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        Father.call(<span class="keyword">this</span>, name);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">this</span>.age = age;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="actionscript">    Son.prototype = <span class="keyword">new</span> Father();</span></span><br><span class="line"><span class="undefined">    Son.prototype.constructor = Son;</span></span><br><span class="line"><span class="actionscript">    Son.prototype.sayAge = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> son1 = <span class="keyword">new</span> Son(<span class="string">"儿子"</span>, <span class="number">20</span>);</span></span><br><span class="line"><span class="actionscript">    son1.sayAge();  <span class="comment">//20</span></span></span><br><span class="line"><span class="actionscript">    son1.sayName(); <span class="comment">//儿子</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如果在ES6通过类的方式完成继承就简单了很多。需要用到一个新的关键字：extends<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="class"><span class="keyword">class</span> <span class="title">Father</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">constructor</span>(name)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.name = name;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        sayName()&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="actionscript">    <span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span></span>&#123;  <span class="comment">//extents后面跟表示要继承的类型</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">constructor</span>(name, age)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">super</span>(name);  <span class="comment">//相当于以前的：Father.call(this, name);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.age = age;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//子类独有的方法</span></span></span><br><span class="line"><span class="undefined">        sayAge()&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> son1 = <span class="keyword">new</span> Son(<span class="string">"李四"</span>, <span class="number">30</span>);</span></span><br><span class="line"><span class="undefined">    son1.sayAge();</span></span><br><span class="line"><span class="undefined">    son1.sayName();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(son1 <span class="keyword">instanceof</span> Son);  <span class="comment">// true</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(son1 <span class="keyword">instanceof</span> Father);  <span class="comment">//true</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这种继承方法，和我们前面提到的构造函数+原型的继承方式本质是一样的。但是写起来更简单，可读性也更好。</p>
<p>关于super的使用，有几点需要注意：</p>
<p>你只能在派生类中使用 super()，否则（没有使用 extends 的类或函数中使用）一个错误会被抛出。<br>你必须在构造函数的起始位置调用 super()，因为它会初始化 this。任何在 super() 之前访问 this 的行为都会造成错误。也即是说super()必须放在构造函数的首行。<br>在类构造函数中，唯一能避免调用 super() 的办法是返回一个对象。</p>
<p>在子类中屏蔽父类的方法</p>
<p>如果在子类中声明与父类中的同名的方法，则会覆盖父类的方法。(这种情况在其他语言中称之为 方法的覆写、重写 )<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;script <span class="class"><span class="keyword">type</span></span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Father</span></span>&#123;</span><br><span class="line">        constructor(name)&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        sayName()&#123;</span><br><span class="line">            console.log(<span class="keyword">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span></span>&#123;  <span class="comment">//extents后面跟表示要继承的类型</span></span><br><span class="line">        constructor(name, age)&#123;</span><br><span class="line">            <span class="keyword">super</span>(name);  <span class="comment">//相当于以前的：Father.call(this, name);</span></span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//子类独有的方法</span></span><br><span class="line">        sayAge()&#123;</span><br><span class="line">            console.log(<span class="keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//子类中的方法会屏蔽到父类中的同名方法。</span></span><br><span class="line">        sayName()&#123;</span><br><span class="line">            <span class="keyword">super</span>.syaName();  <span class="comment">//调用被覆盖的父类中的方法。 </span></span><br><span class="line">            console.log(<span class="string">"我是子类的方法，我屏蔽了父类："</span> + name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> son1 = <span class="keyword">new</span> <span class="type">Son</span>(<span class="string">"李四"</span>, <span class="number">30</span>);</span><br><span class="line">    son1.sayAge();</span><br><span class="line">    son1.sayName();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>如果在子类中又确实需要调用父类中被覆盖的方法，可以通过super.方法()来完成。</p>
<p>注意：</p>
<p>如果是调用构造方法，则super不要加点，而且必须是在子类构造方法的第一行调用父类的构造方法<br>普通方法调用需要使用super.父类的方法() 来调用。</p>
<p>静态方法也可以继承<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script <span class="class"><span class="keyword">type</span></span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Father</span></span>&#123;</span><br><span class="line">       static foo()&#123;</span><br><span class="line">           console.log(<span class="string">"我是父类的静态方法"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span></span>&#123;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="type">Son</span>.foo(); <span class="comment">//子类也继承了父类的静态方法。  这种方式调用和直接通过父类名调用时一样的。</span></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>Array 数组</p>
</blockquote>
<p>  JavaScript 数组对象是用于构造数组的全局对象; 它是高阶，类似列表的对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line">创建数组</span><br><span class="line"><span class="keyword">let</span> fruits = [<span class="string">"Apple"</span>, <span class="string">"Banana"</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fruits.length);</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">通过索引访问</span><br><span class="line">   <span class="keyword">let</span> first = fruits[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// Apple</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> last = fruits[fruits.length - <span class="number">1</span>];</span><br><span class="line"><span class="comment">// Banana</span></span><br><span class="line"></span><br><span class="line">遍历一个数组</span><br><span class="line">fruits.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, array</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item, index);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// Apple 0</span></span><br><span class="line"><span class="comment">// Banana 1</span></span><br><span class="line"></span><br><span class="line">添加元素到数组的末尾</span><br><span class="line"><span class="keyword">var</span> newLength = fruits.push(<span class="string">"Orange"</span>);</span><br><span class="line"><span class="comment">// ["Apple", "Banana", "Orange"]</span></span><br><span class="line"></span><br><span class="line">删除数组末尾的元素</span><br><span class="line"><span class="keyword">let</span> last = fruits.pop(); </span><br><span class="line"><span class="comment">// remove Orange (from the end)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ["Apple", "Banana"];</span></span><br><span class="line"></span><br><span class="line">删除数组最前面（头部）的元素</span><br><span class="line"><span class="keyword">let</span> first = fruits.shift(); </span><br><span class="line"><span class="comment">// remove Apple from the front</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ["Banana"];</span></span><br><span class="line"></span><br><span class="line">添加到数组的前面（头部）</span><br><span class="line"><span class="keyword">let</span> newLength = fruits.unshift(<span class="string">"Strawberry"</span>);</span><br><span class="line"><span class="comment">// add to the front</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ["Strawberry", "Banana"];</span></span><br><span class="line"></span><br><span class="line">找到某个元素在数组中的索引</span><br><span class="line"></span><br><span class="line">fruits.push(<span class="string">'Mango'</span>);</span><br><span class="line"><span class="comment">// ["Strawberry", "Banana", "Mango"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> index = fruits.indexOf(<span class="string">"Banana"</span>);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">通过索引删除某个元素</span><br><span class="line"><span class="keyword">let</span> removedItem = fruits.splice(pos, <span class="number">1</span>); </span><br><span class="line"><span class="comment">// this is how to remove an item</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ["Strawberry", "Mango"]</span></span><br><span class="line"></span><br><span class="line">从一个索引位置删除多个元素</span><br><span class="line"><span class="keyword">let</span> vegetables = [<span class="string">'Cabbage'</span>, <span class="string">'Turnip'</span>, <span class="string">'Radish'</span>, <span class="string">'Carrot'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(vegetables); </span><br><span class="line"></span><br><span class="line"><span class="comment">// ["Cabbage", "Turnip", "Radish", "Carrot"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> pos = <span class="number">1</span>, n = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> removedItems = vegetables.splice(pos, n); </span><br><span class="line"></span><br><span class="line"><span class="comment">// this is how to remove items, </span></span><br><span class="line"><span class="comment">// n defines the number of items to be removed,</span></span><br><span class="line"><span class="comment">// from that position(pos) onward to the end of array.</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(vegetables); </span><br><span class="line"><span class="comment">// ["Cabbage", "Carrot"] (the original array is changed)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(removedItems); </span><br><span class="line"><span class="comment">// ["Turnip", "Radish"]</span></span><br><span class="line"></span><br><span class="line">复制一个数组</span><br><span class="line"><span class="keyword">var</span> shallowCopy = fruits.slice(); </span><br><span class="line"><span class="comment">// this is how to make a copy</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ["Strawberry", "Mango"]</span></span><br><span class="line"></span><br><span class="line">方法</span><br><span class="line"><span class="built_in">Array</span>.from() 方法从一个类似数组或可迭代的对象中创建一个新的数组实例。</span><br><span class="line"><span class="built_in">Array</span>.from(arrayLike[, mapFn[, thisArg]])</span><br><span class="line">类数组对象（拥有一个 length 属性和若干索引属性的任意对象）</span><br><span class="line">可遍历对象（你可以从它身上迭代出若干个元素的对象，比如有 <span class="built_in">Map</span> 和 <span class="built_in">Set</span> 等）</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span> <span class="keyword">from</span> a <span class="built_in">String</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="string">'foo'</span>); </span><br><span class="line"><span class="comment">// ["f", "o", "o"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span> <span class="keyword">from</span> a <span class="built_in">Set</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'foo'</span>, <span class="built_in">window</span>]); </span><br><span class="line"><span class="built_in">Array</span>.from(s); </span><br><span class="line"><span class="comment">// ["foo", window]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span> <span class="keyword">from</span> a <span class="built_in">Map</span></span><br><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">8</span>]]);</span><br><span class="line"><span class="built_in">Array</span>.from(m); </span><br><span class="line"><span class="comment">// [[1, 2], [2, 4], [4, 8]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span> <span class="keyword">from</span> an <span class="built_in">Array</span>-like object (<span class="built_in">arguments</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1, 2, 3]	</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.isArray()</span><br><span class="line">假如一个变量是数组则返回<span class="literal">true</span>，否则返回<span class="literal">false</span>。</span><br><span class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);  </span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123;<span class="attr">foo</span>: <span class="number">123</span>&#125;); </span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="string">"foobar"</span>);   </span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);  </span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">假如不存在 <span class="built_in">Array</span>.isArray()，则在其他代码之前运行下面的代码将创建该方法。</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray) &#123;</span><br><span class="line">  <span class="built_in">Array</span>.isArray = <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(arg) === <span class="string">'[object Array]'</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.of();</span><br><span class="line">创建一个有可变数量的参数的新的数组实例，无论参数有多少数量，而且可以是任意类型</span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">7</span>);       <span class="comment">// [7] </span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">7</span>);          <span class="comment">// [ , , , , , , ]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);    <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line">如果原生不支持的话，在其他代码之前执行以下代码会创建 <span class="built_in">Array</span>.of() 。</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.of) &#123;</span><br><span class="line">  <span class="built_in">Array</span>.of = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   Mutator 方法</span><br><span class="line">下面的这些方法会改变调用它们的对象自身的值：</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.copyWithin() </span><br><span class="line">在数组内部，将一段元素序列拷贝到另一段元素序列上，覆盖原有的值。</span><br><span class="line"><span class="built_in">Array</span>.prototype.fill() </span><br><span class="line">将数组中指定区间的所有元素的值，都替换成某个固定的值。</span><br><span class="line"><span class="built_in">Array</span>.prototype.pop()</span><br><span class="line">删除数组的最后一个元素，并返回这个元素。</span><br><span class="line"><span class="built_in">Array</span>.prototype.push()</span><br><span class="line">在数组的末尾增加一个或多个元素，并返回数组的新长度。</span><br><span class="line"><span class="built_in">Array</span>.prototype.reverse()</span><br><span class="line">颠倒数组中元素的排列顺序，即原先的第一个变为最后一个，原先的最后一个变为第一个。</span><br><span class="line"><span class="built_in">Array</span>.prototype.shift()</span><br><span class="line">删除数组的第一个元素，并返回这个元素。</span><br><span class="line"><span class="built_in">Array</span>.prototype.sort()</span><br><span class="line">对数组元素进行排序，并返回当前数组。</span><br><span class="line"><span class="built_in">Array</span>.prototype.splice()</span><br><span class="line">在任意的位置给数组添加或删除任意个元素。</span><br><span class="line"><span class="built_in">Array</span>.prototype.unshift()</span><br><span class="line">在数组的开头增加一个或多个元素，并返回数组的新长度。</span><br><span class="line"></span><br><span class="line">Accessor 方法</span><br><span class="line">下面的这些方法绝对不会改变调用它们的对象的值，只会返回一个新的数组或者返回一个其它的期望值。</span><br><span class="line"><span class="built_in">Array</span>.prototype.concat()</span><br><span class="line">返回一个由当前数组和其它若干个数组或者若干个非数组值组合而成的新数组。</span><br><span class="line"><span class="built_in">Array</span>.prototype.includes() </span><br><span class="line">判断当前数组是否包含某指定的值，如果是返回 <span class="literal">true</span>，否则返回 <span class="literal">false</span>。</span><br><span class="line"><span class="built_in">Array</span>.prototype.join()</span><br><span class="line">连接所有数组元素组成一个字符串。</span><br><span class="line"><span class="built_in">Array</span>.prototype.slice()</span><br><span class="line">抽取当前数组中的一段元素组合成一个新数组。</span><br><span class="line"><span class="built_in">Array</span>.prototype.toSource() </span><br><span class="line">返回一个表示当前数组字面量的字符串。遮蔽了原型链上的 <span class="built_in">Object</span>.prototype.toSource() 方法。</span><br><span class="line"><span class="built_in">Array</span>.prototype.toString()</span><br><span class="line">返回一个由所有数组元素组合而成的字符串。遮蔽了原型链上的 <span class="built_in">Object</span>.prototype.toString() 方法。</span><br><span class="line"><span class="built_in">Array</span>.prototype.toLocaleString()</span><br><span class="line">返回一个由所有数组元素组合而成的本地化后的字符串。遮蔽了原型链上的 <span class="built_in">Object</span>.prototype.toLocaleString() 方法。</span><br><span class="line"><span class="built_in">Array</span>.prototype.indexOf()</span><br><span class="line">返回数组中第一个与指定值相等的元素的索引，如果找不到这样的元素，则返回 <span class="number">-1</span>。</span><br><span class="line"><span class="built_in">Array</span>.prototype.lastIndexOf()</span><br><span class="line">返回数组中最后一个（从右边数第一个）与指定值相等的元素的索引，如果找不到这样的元素，则返回 <span class="number">-1</span>。</span><br><span class="line"></span><br><span class="line">Iteration 方法</span><br><span class="line"><span class="built_in">Array</span>.prototype.forEach()</span><br><span class="line">为数组中的每个元素执行一次回调函数。</span><br><span class="line"><span class="built_in">Array</span>.prototype.entries() </span><br><span class="line">返回一个数组迭代器对象，该迭代器会包含所有数组元素的键值对。</span><br><span class="line"><span class="built_in">Array</span>.prototype.every()</span><br><span class="line">如果数组中的每个元素都满足测试函数，则返回 <span class="literal">true</span>，否则返回 <span class="literal">false</span>。</span><br><span class="line"><span class="built_in">Array</span>.prototype.some()</span><br><span class="line">如果数组中至少有一个元素满足测试函数，则返回 <span class="literal">true</span>，否则返回 <span class="literal">false</span>。</span><br><span class="line"><span class="built_in">Array</span>.prototype.filter()</span><br><span class="line">将所有在过滤函数中返回 <span class="literal">true</span> 的数组元素放进一个新数组中并返回。</span><br><span class="line"><span class="built_in">Array</span>.prototype.find() </span><br><span class="line">找到第一个满足测试函数的元素并返回那个元素的值，如果找不到，则返回 <span class="literal">undefined</span>。</span><br><span class="line"><span class="built_in">Array</span>.prototype.findIndex() </span><br><span class="line">找到第一个满足测试函数的元素并返回那个元素的索引，如果找不到，则返回 <span class="number">-1</span>。</span><br><span class="line"><span class="built_in">Array</span>.prototype.keys() </span><br><span class="line">返回一个数组迭代器对象，该迭代器会包含所有数组元素的键。</span><br><span class="line"><span class="built_in">Array</span>.prototype.map()</span><br><span class="line">返回一个由回调函数的返回值组成的新数组。</span><br><span class="line"><span class="built_in">Array</span>.prototype.reduce()</span><br><span class="line">从左到右为每个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。</span><br><span class="line"><span class="built_in">Array</span>.prototype.reduceRight()</span><br><span class="line">从右到左为每个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。</span><br><span class="line"><span class="built_in">Array</span>.prototype.values() </span><br><span class="line">返回一个数组迭代器对象，该迭代器会包含所有数组元素的值</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>canvas 使用</p>
</blockquote>
<p>canvas 是使用javascript网页上绘制图像<br>画布是一个矩形区域，可以控制其中每一个像素。canvas拥有多种绘制路径，矩形、圆形、字符及添加图像的方法<br>getContext(“2d”) 对象是内建html5对象，拥有多种绘制路径、矩形、圆形、字符以及添加图像的方法<br>fillRect(0,0,150,75) 绘制矩形，从左上角开始（0,0）,画150*75的矩形</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//绘制线条</span></span><br><span class="line">cxt.moveTo(<span class="number">10</span>,<span class="number">10</span>);</span><br><span class="line">cxt.lineTo(<span class="number">150</span>,<span class="number">50</span>);</span><br><span class="line">cxt.linTo(<span class="number">10</span>, <span class="number">50</span>);</span><br><span class="line">cxt.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制圆形</span></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.arc(<span class="number">70</span>,<span class="number">18</span>,<span class="number">15</span>,<span class="number">0</span>,Math.<span class="literal">PI</span>*<span class="number">2</span>, true);</span><br><span class="line">cxt.closePath();</span><br><span class="line">cxt.fill();</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制图片</span></span><br><span class="line">cxt.drawImage(img,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">一下是画三角示例</span><br><span class="line">&lt;canvas id=<span class="string">"triangle"</span> height=<span class="string">"100"</span> width=<span class="string">"100"</span>&gt;&lt;/canvas&gt;</span><br><span class="line"></span><br><span class="line">var canvas = document.getElementById('triangle');  <span class="comment">//获取canvas元素</span></span><br><span class="line">var context = canvas.getContext('<span class="number">2</span>d');  <span class="comment">//创建context对象</span></span><br><span class="line"></span><br><span class="line">context.beginPath();</span><br><span class="line">context.moveTo(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">context.lineTo(<span class="number">100</span>,<span class="number">0</span>);</span><br><span class="line">context.lineTo(<span class="number">50</span>,<span class="number">100</span>);</span><br><span class="line">context.closePath();</span><br><span class="line">context.fillStyle=<span class="string">"rgb(78,193,243)"</span>;</span><br><span class="line">context.fill();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>css盒子模型</p>
</blockquote>
<p>介绍一下标准的CSS的盒子模型？低版本IE的盒子模型有什么不同的？</p>
<p>   (1) 有两种， IE 盒子模型、W3C 盒子模型；</p>
<p>   (2) 盒模型： 内容(content)、填充(padding)、边界(margin)、 边框(border)；</p>
<p>   (3) 区  别： IE的content部分把 border 和 padding计算了进去;<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.triangle</span> &#123;</span><br><span class="line">       <span class="attribute">width </span>: <span class="number">0</span>;</span><br><span class="line">       <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">       <span class="attribute">border </span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">	<span class="attribute">border-top </span>: <span class="number">100px</span> solid blue; <span class="comment">/*这里可以设置border的top、bottom、left、right四个方向的三角</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&lt;div class="triangle"&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在实际设计中，我们会发现，IE 盒模型更容易进行控制，我们一般先将整个容器的尺寸先确定，然后再填充具体的内容，通过 padding 来调整内容的具体位置，通过 margin 来调整容器与其他元素之间的间隙，无论如何调整，整个容器的结构是固定的，不会改变的；<br>而在标准盒模型中，我们在调整 padding 和 margin 的同时，往往会将容器本身的结构打乱，需要重新设置内容 content 的尺寸</p>
<p>所以我一般都会在样式重置中添加 CSS 3 属性：box-sizing: border-box; 可以让元素按照 IE 盒模型进行解析，即设置的宽高包括了 border 以及 padding 的值</p>
<p>标准模型的盒子大小(280X280) = 200 +10<em>2 + 30</em>2 — 相加效果</p>
<p>传统IE6盒子大小(200X200) = 120 + 10 <em> 2 + 30</em>2 — 减去效果</p>
<p>js有5种基本数据类型，null, undefind, number, boolean, string,和一种对象数据类型（Oject, Array, Date）.</p>

        </div>
        
                    <div class="post-footer">
                        <div>
                            
                                转载声明：
                                    商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="https://github.com/879733672" target="_blank">小橙</a>
                                        
                                            
                        </div>
                        <div>
                            
                        </div>
                    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2019/04/15/git配置/" class="pre-post btn btn-default" title="git配置用户密码">
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">
                git配置用户密码
            </span>
        </a>
        
            
                <a href="/2019/04/15/react-native存储AsyncStorage/" class="next-post btn btn-default" title="React Native APi AsyncStorage的使用">
                    <span class="hidden-lg">下一篇</span>
                    <span class="hidden-xs">
                        React Native APi AsyncStorage的使用
                    </span><i class="fa fa-angle-right fa-fw"></i>
                </a>
                
</div>

                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            文章目录
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#js基础知识点"><span class="toc-text">js基础知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#面向对象编程（OOP）的特点"><span class="toc-text">面向对象编程（OOP）的特点:</span></a></li></ol></li></ol>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
    访问量:
    <strong id="busuanzi_value_site_pv">
        <i class="fa fa-spinner fa-spin"></i>
    </strong>
    &nbsp; | &nbsp;
    访客数:
    <strong id="busuanzi_value_site_uv">
        <i class="fa fa-spinner fa-spin"></i>
    </strong>
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2019
                    
                </span>
            </div>
        </div>
    </div>
</div>


<script src="/assets/tagcanvas.min.js?rev=2.9"></script>
<script>
var tagOption = {
    textColour: '#444', // 字体颜色
    outlineMethod: 'block', // 选中模式
    outlineColour: '#FFDAB9', // 选中模式的颜色
    interval: 30 || 30, // 动画帧之间的时间间隔，值越大，转动幅度越大
    textHeight: 13,
    outlineRadius: 3,
    freezeActive: true || '', // 选中的标签是否继续滚动
    frontSelect: true || '', // 不选标签云后部的标签
    initial: [0.1, -0.1],
    depth: 0.5,
    decel: 0.95,
    maxSpeed: 0.03,
    reverse: true || '', // 是否反向触发
    fadeIn: 500, // 进入动画时间
    wheelZoom: false || '' // 是否启用鼠标滚轮
}
TagCanvas.Start('tag-cloud-3d', '', tagOption);
</script>


<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?rev=@@hash"></script>
</body>
</html>